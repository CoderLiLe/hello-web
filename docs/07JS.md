


## 1 初识函数

### 1.1 函数概述

#### ① 什么是函数

```
1. 函数具有某种特定功能的代码块。
2. 函数是JS中一种数据类型，属于对象类型，使用 typeof 判断可以得到 function
```

#### ② 函数的作用

```
提高代码的重用性
```

#### ③ 函数的组成

**函数名：** 函数名就是变量名； 变量的值是函数类型的数据，可以称该变量是函数名。

**函数体：** 函数中的代码块。

**参数：** 用于像函数内传递数据，分为形参和实参。

**返回值：** 作为函数的计算结果，是函数调用表达式的值。

### 1.2 创建函数的四种方式

#### ① function 关键字方式

```js
function 函数名(参数列表) {
    语句...;
}
```

#### ② 表达式方式

```js
var 函数名 = function（参数列表） {
    语句...;
}
```

#### ③ Function 函数方式（了解）

```js
var 函数名 = Function('函数体语句;')
var 函数名 = Function('参数1', '参数2', '参数3'，'函数体语句;')
```

#### ④ Function 构造函数方式（了解）

```js
var 函数名 = new Function('函数体语句;')
var 函数名 = new Function('参数1', '参数2', '参数3'，'函数体语句;')
```


## 2 函数

### 2.1 函数的调用和返回值

#### ① 函数调用

```
函数名后面跟上小括号才是调用，函数体语句才能执行
函数名后面没有小括号，在使用该变量的值
```

#### ② 返回值

```
1. 函数调用表达式的值是返回值
2. 如何在函数中设置返回值
   ① 使用 return 关键字可以设置返回值，return 右边需要表达式，表达式的值就是返回的值
   ② 函数体中没有return，或者return后边是空的，表示该函数没有返回值
   ③ return 表示函数的结束，一旦执行到 return，return 下面的代码将不再执行。
3. 没有返回值的函数，函数调用表达式可以自动得到undefined
```

### 2.2 函数的参数

#### ① 形参和实参

**形参：** 创建函数时候使用，形参就是没有赋值的变量，形参只能在函数内部使用。

**实参：** 调用函数时通过实参向函数传递数据，实参用于给对应的形参赋值，实参的形式可以是变量、直接量、表达式。

#### ② 形参和实参的数量问题

```
1. 如果实参数量>形参数量，实参按照顺序给形参赋值，多出的实参没有作用
2. 如果实参数量<形参数量，实参按照顺序给形参赋值，后面的形参没有被赋值，使用的时候自动undefined
```

#### ③ 形参的默认值（可选参数）

**ES5 设置形参默认值的方式：**

```js
function 函数名(参数1，参数2) {
	if (参数2 === undefined) {
    	参数2 = 默认值;
    }
}
```

> 有默认值的参数请放在后面！

**ES6 设置形参默认值的方式：**

```js
function 函数名(参数1，参数2=默认值) {
    
}
```

> 有默认值的参数请放在后面！

#### ④ arguments

```
1. arguments 是系统创建的变量，只能在函数中使用
2. arguments 的值是一个伪数组，由调用函数时所传递的实参组成
3. 可以使用 arguments 实现可变参数数量的函数
```

```js
// 创建函数 该函数计算所有参数的和
function sum() {
    // 定义变量 记录和
    var res = 0;
    // 遍历所有的参数
    for (var i = 0; i < arguments.length; i ++) {
        res += arguments[i];
    }
    // 返回计算结果
    return res;
}
```



### 2.3 作用域

#### ① 变量的作用域

```
1. 变量的作用域指变量的可作用范围，一个变量只能在作用域内才可以使用
2. 根据作用域可以将变量分为全局变量和局部变量
   ① 全局变量： 在函数外面创建的变量就是全局变量，作用域范围是全局
   ② 局部变量： 在函数里面创建的变量就是局部变量，作用域范围是所在的函数
```

> **注意：**
>
> 1. 在函数内，不使用var关键字创建的变量也是全局变量，不建议这么做！
> 2. 函数内的形参、argument 都是局部变量。

#### ② 作用域链

<font color="red">**一个变量的作用域只与函数声明的位置有关，与函数调用的位置无关！ **</font>

**作用域链式如何产生的？**

```
在函数体代码中，也可以创建函数，函数嵌套声明，形成了作用域链
```

**作用域链描述变量查找的过程：**

```
1. 当使用变量的时候，先从本作用域中查找，如果有到此为止
2. 如果本作用域中没有创建该变量，再去上层作用域找，如果有到此为止，如果没有继续向上找，直到全局
3. 如果全局也没有创建该变量，报错！
```

**从定义变量的角度看作用域链：**

```
变量创建之后，可以在本作用域被使用，也可以在下层作用域以及更下层被使用。
```

### 2.4 变量提升

#### ① 变量提升

```
1. 全局代码执行之前会预处理， 查找全局代码中的var关键字，提前创建好变量，不赋值； 当正式执行到变量声明语句的时候，仅仅进行赋值操作。
2. 函数调用的时候，执行函数体语句前也会预处理， 查找函数代码中的var关键字，提前创建好变量，不赋值；当正式执行到变量声明语句的时候，仅仅进行赋值操作。
```

```
将变量的创建提升到了所在作用域的最前面！
```

#### ② 函数提升

```
1. 全局代码执行之前会预处理， 查找全局代码中的function关键字，提前创建好变量并赋值； 当正式执行到函数声明语句的时候，直接跳过。
2. 函数调用的时候，执行函数体语句前也会预处理， 查找函数代码中的function关键字，提前创建好变量并赋值； 当正式执行到函数声明语句的时候，直接跳过。
```

> 只有 function 关键字创建的函数才按照函数提升的规则； 如果是其他方式，提升规则与变量一致，var的规则。





## 3 函数进阶

### 3.1 匿名函数

```
1. 匿名函数就是没有名字的函数，是函数的直接量形式
2. 匿名函数适合用于立即调用的函数和回调函数
```

### 3.2 立即调用的函数 （IIFE ）

Immediately Invoked Function Expression，简称 IIFE，译为“立即调用的函数表达式”。 IIFE 主要为了创建一个局部的作用域，避免全局变量污染。

```js
 (function() {
     var address = '上海';
     console.log('我是匿名的立即调用的函数！', address);
 })();
```

### 3.3 回调函数 （callback）

#### ① 什么是回调函数

满足以下三个条件的函数就是回调函数：

```
1）函数是我定义的。
2）我没有调用（没有直接调用）。
3）函数最终执行了。
```

#### ② 回调函数的使用场景

```
1. 数组的一些方法需要回调函数当参数，如 forEach、sort、filter、map、reduce 等等
2. 定时器的回调函数
3. DOM事件的回调函数
4. Ajax 的回调函数
5. Promise 的回调函数
...
```

> 大部分回调函数的形式都是作为其他函数的参数！

### 3.4 递归函数

#### ① 什么是递归函数

```
1. 如果函数体代码中自己调用自己，称为递归调用
2. 存在递归调用的函数就是递归函数
```

#### ② 递归函数成功的条件

```
1. 需要要明确的结束递归的条件
2. 随着递归调用次数增加，条件要趋向于结束递归
```

#### ③ 递归函数的缺点

```
执行效率较低，如果可以使用循环实现，首选循环
```

#### ④ 递归函数应用场景

```
1. 使用递归函数处理后端数据
```




## 4 Object 对象

**广义理解的对象：**

```
一切皆对象，数组、函数都是对象的一种。
```

**狭义理解的对象：**

```
Object 数据类型，是对象类型中的一种，与Array、Function 是平级的。
```

### 4.1 什么是 Object 对象

```
1. Object 类型的数据是值的无序集合。
2. Object 类型的数据由属性组成，属性由属性名和属性值
3. 属性值可以是任何类型的数据； 属性名用字符串表示，如果符合标识号规范，可以省略引号。
4. 如果属性的值是一个函数，该属性可以被称为方法
```

### 4.2 如何创建 Object 对象

#### ① 直接量方式

```js
{
    username:'高小乐', 
    age:67,
    'home-address': '上海',
    schollAddress: '北京',
    firends: ['刘姥姥', '欧阳姥姥', '司马姥姥'],
    child: {
        name: '高小小乐', 
        age: 37
    },
    getInfo: function() {
        console.log('obj2 getInfo');
    },
    eat: function() {
        console.log('高小乐爱吃！');
    }
};
```

#### ② 使用 Object 函数

```js
Object();
```

#### ③ 使用 Object 构造函数

```js
new Object();
```

### 4.3 Object 对象属性的读写

#### ① 语法

```
对象.属性名;
对象['属性名'];
```

```js
1. 读取不存在的属性，自动得到 undefined
2. 给不存在的属性赋值，自动添加该属性
```

#### ② 什么情况下必须使用 [] 语法读写属性

```
1. 属性名不符合标识符规范
2. 使用变量表示属性名
```

### 4.4 遍历对象的属性

```js
for (var i in 对象) {
    i;  	  // 属性名
    对象[i];   // 属性值
}
```

### 4.5 删除对象中的属性

```js
delete 对象.属性名;
delete 对象['属性名'];
```

### 4.6 判断对象中是否存在某个属性

```js
// 表达式的值是布尔值
'属性名' in 对象;
```





